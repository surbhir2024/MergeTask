<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comments</title>
    <link rel="stylesheet" href="/task12_data/comment.css">
</head>
<body>
    <h2>Surbhi Rank</h2>
    <div id="comments"></div>
</body>
<script>
    let href = window.location.href;
    let post_id = href.split('=')[1];
    console.log(post_id);
    var Comments = [];
    async function displaycomments(){
        const response = await fetch('https://jsonplaceholder.typicode.com/comments');
        Comments = await response.json()

        const commentcontainer = document.getElementById('comments');
        commentcontainer.innerHTML = ``;

        const headingrw = document.createElement('tr');
        headingrw.innerHTML = `<th>ID</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Body</th>`;

        commentcontainer.appendChild(headingrw);

        Comments.forEach(element => {
            if(element.postId == post_id)

            {

                const row = document.createElement('tr');
                row.innerHTML =`<td>${element.id}</td>
                            <td>${element.name}</td>
                            <td>${element.email}</td>
                            <td>${element.body}</td>`;
                            commentcontainer.appendChild(row);
            }

        });
       
    }
    
    document.addEventListener('DOMContentLoaded',()=>{
        displaycomments();
    })
</script>
</html>